C51 COMPILER V9.60.7.0   MAIN                                                              04/20/2024 14:33:31 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Program\Keil5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listing
                    -s\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "LCD1602.h"
   3          #include "Delay.h"
   4          #include "MatrixKey.h"
   5          #include "Tip.h"
   6          #include "PassWord.h"
   7          
   8          unsigned char KeyNum;
   9          unsigned int PassWord,Count;
  10          unsigned int CorrectPassWord=1234;
  11          
  12          // 输入密码
  13          void InputPassWord()
  14          {
  15   1          if(Count>=4) return;
  16   1          Count++;
  17   1          
  18   1          PassWord=PassWord*10+KeyNum%10;
  19   1          ShowPassWord(PassWord);
  20   1          
  21   1          ShowNth();
  22   1      }
  23          
  24          // 确认密码
  25          void ConfirmPassWord()
  26          {
  27   1          if(PassWord==CorrectPassWord) ShowOK();
  28   1          else ShowERR();
  29   1          
  30   1          Count=0;
  31   1          
  32   1          PassWord=0;
  33   1          ShowPassWord(PassWord);
  34   1      }
  35          
  36          // 重置密码
  37          void ResetPassWord()
  38          {
  39   1          Count=0;
  40   1          
  41   1          PassWord=0;
  42   1          ShowPassWord(PassWord);
  43   1          
  44   1          ShowNth();
  45   1      }
  46          
  47          // 撤销密码
  48          void BackPassWord()
  49          {
  50   1          if(Count<=0) return;
  51   1          Count--;
  52   1          
  53   1          PassWord=PassWord/10;
  54   1          ShowPassWord(PassWord);
C51 COMPILER V9.60.7.0   MAIN                                                              04/20/2024 14:33:31 PAGE 2   

  55   1          
  56   1          ShowNth();
  57   1      }
  58          
  59          void PassWordLock(){
  60   1          KeyNum=MatrixKey();
  61   1          if(!KeyNum) return;
  62   1          
  63   1          if(KeyNum<=10) InputPassWord();
  64   1          else if(KeyNum==11) ConfirmPassWord();
  65   1          else if(KeyNum==12) ResetPassWord();
  66   1          else if(KeyNum==13) BackPassWord();
  67   1      }
  68          
  69          void main()
  70          {
  71   1          LCD_Init();
  72   1          LCD_ShowString(1,1,"PassWord:");
  73   1              while(1)
  74   1              {
  75   2              PassWordLock();
  76   2              }
  77   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    212    ----
   CONSTANT SIZE    =     10    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      7    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
